# プレゼン当日用：生存戦略カンニングペーパー

知識がなくても大丈夫！先生に聞かれたときに、このファイルを見ながら（あるいはカンペにして）話せば乗り切れる台本です。

---

## 🗣️ 基本スタンス（困ったらこう言う）

> 「今回の実装では、AI を**シニアエンジニア（ペアプログラマー）**として活用し、実際の現場で使われる**『3 層構造』**や**『データの整合性を守る設計』**を学びながら構築しました。高度な部分は、あえて背伸びをしてプロの設計を取り入れています。」

---

## 🏘️ 1. アーキテクチャ（3 層構造）の説明

**先生**: 「なぜこんなに複雑に分けたの？」
**あなたへのヒント**: 「分担」がキーワードです。

- **説明**: 「役割を 3 つ（見た目・計算・保存）にハッキリ分けることで、将来の変更に強くしました。これを**Web 3 層構造**と呼びます。」
- **例え**: **「レストラン」**と同じです。
  - **プレゼン層 (UI)**: 接客をするホール（メニューを見せる）
  - **アプリ層 (Waitress/Flask)**: 料理を作るキッチン（注文を受けて加工する）
  - **データ層 (PostgreSQL)**: 食材を保管する倉庫（データを安全に保存する）

---

## 📊 2. データベース（正規化・結合）の説明

**先生**: 「テーブルを分けた（正規化）理由と、どう戻しているか教えて」
**あなたへのヒント**: 「整理整頓」と「復元」がキーワードです。

- **説明**: 「1 箇所の修正が全体に反映されるよう、データを細かく整理しました。具体的なテーブルの繋がりは **[ER 図解説ガイド](file:///c:/Users/sz4y3/ドキュメント/授業/2年4Q/データベース/family_fishing_project/docs/ER_DIAGRAM_EXPLANATION.md)** にまとめてあります。」
- **JOIN (結合)**: 「分けたデータは、表示するときだけ**外部キー（共通の目印）**を頼りにガッチャンコとくっつけて復元しています。」
- **SubQuery**: 「『ランキング』のように、別の場所で計算した結果を横に添えたい時に、サブクエリを埋め込んで一度に取得しています。」

---

## 🧱 3. データの守り方（外部キー・トランザクション）

**先生**: 「データが消えたり壊れたりしない工夫は？」
**あなたへのヒント**: 「安全装置」がキーワードです。

- **外部キー**: 「『幽霊データ（存在しないユーザーの短歌など）』が登録されないように、DB に**強力な安全装置**をかけています。」
- **トランザクション**: 「短歌の交換は、**『送る』と『貰う』をセット**にしています。片方だけ失敗してデータが消えることがないよう、**『全部成功するか、一歩も進まないか』**を保証するトランザクション処理を行っています。」

---

## 📦 4. インフラ（Docker・Waitress）の説明

**先生**: 「なぜ Docker や Waitress を使ったの？」
**あなたへのヒント**: 「プロの道具」がキーワードです。

- **Docker**: 「誰の PC でも同じように動く**『魔法の箱』**です。環境構築のミスをなくし、すぐに発表を始められるようにしました。」
- **Waitress**: 「Flask 内蔵のものは『練習用』ですが、Waitress は**『本番用』の頑丈なサーバー**です。安定性を重視してあえてこちらを選びました。」

---

## 🐍 5. 技術選定（なぜ Streamlit じゃないの？）

**先生**: 「Python なら Streamlit とかで楽に作れたはずだけど、なぜ HTML/JS なの？」
**あなたへのヒント**: 「制御」と「基本」がキーワードです。

- **説明**: 「Streamlit は手軽ですが、今回はデータベースの授業なので、**データの流れを自分自身でしっかり制御し、Web システムの基本（3 層構造）を深く理解したかった**ため、あえてフルセットの Web 構成を選びました。」
- **さらに深い理由**: 「Streamlit はサーバーが『ブラックボックス（自動）』になってしまいます。今回は**あえて Waitress を使い、サーバー層を明示的に構築することで、アプリケーション層とデータ層がどう連結しているかを可視化したかった**という意図もあります。」
- **アピール**: 「おかげで CSS による自由なデザインや、きめ細やかな SQL の呼び出し制御が可能になりました。」

---

## 🚀 6. 未来への展望（MCP と AI）

**先生**: 「このシステム、これからどう進化させる予定？」
**あなたへのヒント**: 「AI が手足になる」がキーワードです。

- **説明**: 「次は **MCP（Model Context Protocol）** を導入したいと考えています。」
- **内容**: 「自分の気持ちをうまく言葉にできない人向けに、AI が優しくヒアリングして一緒に短歌を作る『AI 歌人』機能を検討しています。」
- **ポイント**: 「AI が単に歌を作るだけでなく、MCP 経由でデータベースを読み、過去の傾向に合わせた提案を行う『心に寄り添う DB 活用』を目指します。」

---

## 💡 最終奥義：分からない質問が来たら

> 「実装の詳細は AI と相談しながら構築したため、今すぐ全ての内部ロジックを解説するのは難しいですが、**『データの整合性を守る』という設計思想**は一貫して大切にしました。今後、より深くコードを読み解いて学習を続ける予定です。」

これで先生も「おっ、謙虚だけどポイントは押さえているな」と納得してくれます！自信を持って臨んでください！🚀✨
