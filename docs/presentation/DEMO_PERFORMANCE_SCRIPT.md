# 実演デモ用：実況ナレーション台本

プレゼンでアプリを実際に動かしながら、どのタイミングで何を言えばいいかをまとめた台本です。

---

## 🏎️ STEP 1: アプリ起動（準備）

**【操作】**: `desktop_app.py` を実行する。
**【ナレーション】**:

> 「それではアプリを起動します。この時、裏側では **Docker** を呼び出し、専用の **PostgreSQL 環境**をコンテナとして自動構築しています。また、起動時にデータベース接続を待ち受け、最新のスキーマに自動修復（マイグレーション）を行う堅牢なシーケンスを実装しています。」

---

## 🏠 STEP 2: ホーム画面

**【操作】**: 立ち上がったアプリの画面を見せる。
**【ナレーション】**:

> 「こちらがホーム画面です。落ち着いた和風の UI に仕上げました。システム構成は **Web 3 層構造** で、**Waitress** という本番環境用のサーバーが、フロントエンドとデータベースの橋渡しを行っています。」

---

## ✍️ STEP 3: 短歌を投稿・交換

**【操作】**: 「短歌を交換する」をクリック。短歌を一首入力して「投稿」を押す。
**【ナレーション】**:

> 「ここで**『短歌の交換』**を行います。内部では、自分の歌の保存、相手の歌の取得・削除、履歴の記録を**一つのトランザクション**として処理しています。これにより、データが中途半端に消えたりしない、**ACID 特性**に基づいた安全な交換を実現しています。」

---

## 📖 STEP 4: 受け取った短歌を確認

**【操作】**: 「受け取った短歌を見る」をクリック。
**【ナレーション】**:

> 「次に、受け取り履歴を確認します。ここではデータベース内の **exchange_history テーブル** から、セッション ID に紐づく過去の履歴を高速に抽出して表示しています。プライバシーに関わる履歴情報も、外部キーとインデックスを活用した堅牢な DB 設計により、高い整合性と検索性を維持したまま管理されています。」

---

## 📊 STEP 5: 世の歌人たち（全体統計）

**【操作】**: 「世の歌人たち」をクリック。
**【ナレーション】**:

> 「こちらの『世の歌人たち』の画面が、SQL の技術を最も詰め込んだ場所です。**3 テーブルをまたぐ INNER JOIN** でカテゴリ情報を復元し、さらに**相関サブクエリ**を活用して、別の履歴テーブルから交換回数をリアルタイムに算出してランキングを表示しています。」

---

## 👤 STEP 6: 私の歌集（マイ統計）

**【操作】**: 「私の歌集」をクリック。
**【ナレーション】**:

> 「最後は『私の歌集』、つまりマイ統計です。ここでは**外部キー（Foreign Key）**を活用し、セッション ID に紐づく個人のデータのみを、参照整合性を守りながら抽出しています。DB 設計には**第 3 次正規化**を適用し、将来の拡張性も確保しました。」

---

## 🤖 STEP 7: AI 歌人に相談（AI Advisor）

**【操作】**: ホームから「AI 歌人に相談」をクリック。適当に「仕事で疲れてしまった」などの悩みを入力して送信。
**【ナレーション】**:

> 「そして、最新の機能として実装したのがこの **AI 歌人** です。Google **Gemini API** と連携し、単に AI が答えるだけでなく、**データベース内の短歌を自動検索して引用**する、いわゆる **RAG（検索拡張生成）** の構成をとっています。」

> 「現在はバックエンドが仲介していますが、将来的には **MCP（Model Context Protocol）** という最新規格を導入し、AI が自ら判断してデータベースから最適な情報を引き出す、より自律的なシステムへと拡張する設計思想を持っています。データベースが、単なるデータの箱から『AI の知識源』へと進化する一歩を表現しました。」

---

## 🏁 STEP 8: 締めの一言

**【操作】**: ホーム画面に戻る。
**【ナレーション】**:

> 「以上のように、シンプルな体験の裏側で、データベースの強力な機能と安定したインフラ構成をフル活用したシステムを構築しました。ご清読ありがとうございました。」
